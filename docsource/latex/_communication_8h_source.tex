\hypertarget{_communication_8h_source}{}\doxysection{Communication.\+h}
\label{_communication_8h_source}\index{Ensmasteel\_Bot\_2020/Libraries\_shared/Communication/Communication.h@{Ensmasteel\_Bot\_2020/Libraries\_shared/Communication/Communication.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef COMMUNICATION\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define COMMUNICATION\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#define ANTISPAM\_MS 300 }\textcolor{comment}{//Nombre de milliseconde entre deux envoi de message}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}Arduino.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}MessageID.h"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <Stream.h>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}Vector.h"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{class }\mbox{\hyperlink{class_message_box}{MessageBox}};}
\DoxyCodeLine{12 }
\DoxyCodeLine{16 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_four_bytes}{FourBytes}}}
\DoxyCodeLine{17 \{}
\DoxyCodeLine{18     uint8\_t byte0,byte1,byte2,byte3;}
\DoxyCodeLine{19 \};}
\DoxyCodeLine{20 }
\DoxyCodeLine{24 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_message}{Message}}}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26     int32\_t \_data;}
\DoxyCodeLine{27     uint16\_t \_ID;}
\DoxyCodeLine{28 \}; \textcolor{comment}{//        Taille de 6 octets !}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{//Je fais cette impl√©mentation "{}non POO"{} car je veux etre certains qu'un mesasge fasse 6 octets....}}
\DoxyCodeLine{37 \textcolor{comment}{}\mbox{\hyperlink{struct_message}{Message}} newMessage(MessageID \textcolor{keywordtype}{id}, int32\_t data);}
\DoxyCodeLine{38 }
\DoxyCodeLine{44 \mbox{\hyperlink{struct_message}{Message}} newMessage(MessageID \textcolor{keywordtype}{id});}
\DoxyCodeLine{45 }
\DoxyCodeLine{56 \mbox{\hyperlink{struct_message}{Message}} newMessage(MessageID \textcolor{keywordtype}{id}, uint8\_t byte0,uint8\_t byte1, uint8\_t byte2, uint8\_t byte3);}
\DoxyCodeLine{57 }
\DoxyCodeLine{64 \mbox{\hyperlink{struct_message}{Message}} newMessage(MessageID \textcolor{keywordtype}{id}, \mbox{\hyperlink{class_vector_e}{VectorE}} vectorE);}
\DoxyCodeLine{65 }
\DoxyCodeLine{71 MessageID extractID(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{72 }
\DoxyCodeLine{78 \mbox{\hyperlink{struct_four_bytes}{FourBytes}} extract4Bytes(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{79 }
\DoxyCodeLine{85 int32\_t extractInt32(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{86 }
\DoxyCodeLine{92 \mbox{\hyperlink{class_vector}{Vector}} extractVectorE(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{93 }
\DoxyCodeLine{99 Actuator\_Order extractOrder(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 }
\DoxyCodeLine{105 \textcolor{keyword}{class }\mbox{\hyperlink{class_communication}{Communication}}}
\DoxyCodeLine{106 \{}
\DoxyCodeLine{107 \textcolor{keyword}{public}:}
\DoxyCodeLine{113     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_communication_a431a221c086932c7b4225f6b4d006d17}{send}}(\mbox{\hyperlink{struct_message}{Message}} message);}
\DoxyCodeLine{114 }
\DoxyCodeLine{118     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_communication_a628a8d93d56c41f488c0e36fa8614ab4}{popOldestMessage}}();}
\DoxyCodeLine{119 }
\DoxyCodeLine{124     \mbox{\hyperlink{struct_message}{Message}} \mbox{\hyperlink{class_communication_a71204b613dd598bc5919d57942eef2f2}{peekOldestMessage}}();}
\DoxyCodeLine{125 }
\DoxyCodeLine{130     uint8\_t \mbox{\hyperlink{class_communication_a56745608a76ca04c31e98f6b1e972b63}{inWaitingRx}}();}
\DoxyCodeLine{131 }
\DoxyCodeLine{136     uint8\_t \mbox{\hyperlink{class_communication_a9729e4f539ba60f67aa2273c0fe471e0}{inWaitingTx}}();}
\DoxyCodeLine{137 }
\DoxyCodeLine{141     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_communication_af87402699dbd147b8d24aec9792827b8}{update}}();}
\DoxyCodeLine{142 }
\DoxyCodeLine{147     \mbox{\hyperlink{class_communication_aa686ecae406d9e82ca6aab48e2634042}{Communication}}(Stream* port=\&Serial);}
\DoxyCodeLine{148 }
\DoxyCodeLine{153     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_communication_ad2fcf1b78b7cb0869a1048c319a84bcf}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_communication}{Communication}} \&other);}
\DoxyCodeLine{154 }
\DoxyCodeLine{158     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_communication_a556bfa49af73d5a2415bbbee6ea6fbed}{toTelemetry}}();}
\DoxyCodeLine{159 }
\DoxyCodeLine{160 \textcolor{keyword}{private}:}
\DoxyCodeLine{161     Stream* port;}
\DoxyCodeLine{162     uint32\_t millisLastSend;}
\DoxyCodeLine{163     \mbox{\hyperlink{class_message_box}{MessageBox}}* sendingBox;}
\DoxyCodeLine{164     \mbox{\hyperlink{class_message_box}{MessageBox}}* receiveBox;}
\DoxyCodeLine{165 \};}
\DoxyCodeLine{166 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
