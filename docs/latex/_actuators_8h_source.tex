\hypertarget{_actuators_8h_source}{}\doxysection{Actuators.\+h}
\label{_actuators_8h_source}\index{Ensmasteel\_Bot\_2020/Arduino\_Mega/Lib/Actuators/Actuators.h@{Ensmasteel\_Bot\_2020/Arduino\_Mega/Lib/Actuators/Actuators.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{comment}{// Copyright (c) 2021.}}
\DoxyCodeLine{3 \textcolor{comment}{// This code has been written by student members of ISAE-\/ENSMA Ensmasteel association.}}
\DoxyCodeLine{4 \textcolor{comment}{/*}}
\DoxyCodeLine{5 \textcolor{comment}{ * This file provides a generic implementation of robotics actuators in place in the}}
\DoxyCodeLine{6 \textcolor{comment}{ * Ensmasteel robot. This module may be re-\/written if there is any changes in the}}
\DoxyCodeLine{7 \textcolor{comment}{ * general structure of the robot or in the general code architecture.}}
\DoxyCodeLine{8 \textcolor{comment}{ */}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef ACTUATORS\_H\_}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define ACTUATORS\_H\_}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}Arduino.h"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}Communication.h"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}MessageID.h"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}Servo.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}StepperMotorJ.h"{}}}
\DoxyCodeLine{18 }
\DoxyCodeLine{22 \textcolor{keyword}{enum class} Actuator\_State}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24     Attente, }
\DoxyCodeLine{25     NewMess, }
\DoxyCodeLine{26     Mouvement, }
\DoxyCodeLine{27     MouvFinished }
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \};}
\DoxyCodeLine{30 }
\DoxyCodeLine{33 }
\DoxyCodeLine{42 \textcolor{keyword}{class }\mbox{\hyperlink{class_actuator}{Actuator}}}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44 \textcolor{keyword}{public}:}
\DoxyCodeLine{52     \mbox{\hyperlink{class_actuator_a813e211d860d125a45d713775c19d38b}{Actuator}}(String name = \textcolor{stringliteral}{"{}Actuator"{}}, MessageID messID = MessageID::Empty\_M);}
\DoxyCodeLine{53     }
\DoxyCodeLine{54     \textcolor{comment}{// A appeler a chaque boucle, commande les actionneurs et mise a jour de l'etat.}}
\DoxyCodeLine{61 \textcolor{comment}{}    \textcolor{keyword}{virtual} Actuator\_State \mbox{\hyperlink{class_actuator_abcd50fd00e60c114afde31648403e780}{Update}}();}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{comment}{// Reception d'un nouvel ordre.}}
\DoxyCodeLine{68 \textcolor{comment}{}    \textcolor{keywordtype}{void} \mbox{\hyperlink{class_actuator_a0834ccb419fcc7340391b9ef5a564343}{NewOrder}}(Actuator\_Order order);}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{comment}{// Genere le message de validation de l'action dedie au donneur d'ordre}}
\DoxyCodeLine{75 \textcolor{comment}{}    \mbox{\hyperlink{struct_message}{Message}} \mbox{\hyperlink{class_actuator_a6f2502f7dfe2f59d7f58f6053c8574c6}{OrderCompleted}}()\{\textcolor{keywordflow}{return} newMessage(messID,currentOrder,0,0,0);\}}
\DoxyCodeLine{76 }
\DoxyCodeLine{81     String \mbox{\hyperlink{class_actuator_a466fe2e29b99bf66f08116ff8ba46acb}{GetName}}()\{\textcolor{keywordflow}{return} name;\}}
\DoxyCodeLine{82 }
\DoxyCodeLine{87     Actuator\_State \mbox{\hyperlink{class_actuator_aff3a744eecf74c4b52a8a6b30ca0eb88}{GetEtat}}()\{\textcolor{keywordflow}{return} etat;\}}
\DoxyCodeLine{88 }
\DoxyCodeLine{93     Actuator\_Order \mbox{\hyperlink{class_actuator_a0819fc5a7749335bf3b5caa8f524ef87}{GetOrder}}()\{\textcolor{keywordflow}{return} currentOrder;\}}
\DoxyCodeLine{94 }
\DoxyCodeLine{99     MessageID \mbox{\hyperlink{class_actuator_ae5c55e58f214e70c0cf16e9e81111063}{GetID}}()\{\textcolor{keywordflow}{return} messID;\}}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{keyword}{protected}:}
\DoxyCodeLine{102     String name;}
\DoxyCodeLine{103     Actuator\_State etat;}
\DoxyCodeLine{104     Actuator\_Order currentOrder;}
\DoxyCodeLine{105     MessageID messID = MessageID::Empty\_M;}
\DoxyCodeLine{106 \};}
\DoxyCodeLine{107 }
\DoxyCodeLine{110 }
\DoxyCodeLine{118 \textcolor{keyword}{class }[[deprecated ("{}Deprecated because unused after 2021 cup. Will be removed soon"{})]]}
\DoxyCodeLine{119         \mbox{\hyperlink{class_pavillon}{Pavillon}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_actuator}{Actuator}}}
\DoxyCodeLine{120 \{}
\DoxyCodeLine{121 \textcolor{keyword}{public}:}
\DoxyCodeLine{125     \mbox{\hyperlink{class_pavillon}{Pavillon}}();}
\DoxyCodeLine{126     \textcolor{keywordtype}{void} Init(uint8\_t pinDir, uint8\_t pinStep, uint8\_t pinSleep, uint8\_t pinM0, uint8\_t pinM1);}
\DoxyCodeLine{127     Actuator\_State \mbox{\hyperlink{class_actuator_abcd50fd00e60c114afde31648403e780}{Update}}() \textcolor{keyword}{override};}
\DoxyCodeLine{128 \textcolor{keyword}{private}:}
\DoxyCodeLine{129 }
\DoxyCodeLine{130     \textcolor{comment}{// STEPPER PARAMETERS //}}
\DoxyCodeLine{131     uint8\_t motorSteps = 200;}
\DoxyCodeLine{132     \textcolor{keywordtype}{long} actionStep = 2000;}
\DoxyCodeLine{133     uint8\_t pinDir = 35;}
\DoxyCodeLine{134     uint8\_t pinStep = 34;}
\DoxyCodeLine{135     uint8\_t pinSleep = 22;}
\DoxyCodeLine{136     uint8\_t pinM0 = 37;}
\DoxyCodeLine{137     uint8\_t pinM1 = 36;}
\DoxyCodeLine{138     \mbox{\hyperlink{class_stepper_motor_j}{StepperMotorJ}}* stepperMotor;}
\DoxyCodeLine{139 \};}
\DoxyCodeLine{140 }
\DoxyCodeLine{147 \textcolor{keyword}{class }\mbox{\hyperlink{class_bras}{Bras}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_actuator}{Actuator}}}
\DoxyCodeLine{148 \{}
\DoxyCodeLine{149 \textcolor{keyword}{public}:}
\DoxyCodeLine{153     \mbox{\hyperlink{class_bras_a7fe274afc6082a4ac295b8fcaf7f5b45}{Bras}}();}
\DoxyCodeLine{154 }
\DoxyCodeLine{164     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_bras_af984b9621fde5644bdee51ec3bcb3c38}{Init}}(uint8\_t pinServo, MessageID ID, \textcolor{keywordtype}{int} posRentre = 0, \textcolor{keywordtype}{int} posSortie = 100);}
\DoxyCodeLine{165     Actuator\_State \mbox{\hyperlink{class_bras_a3e97c50a972a0e32bd8a807871c220fb}{Update}}() \textcolor{keyword}{override};}
\DoxyCodeLine{166 }
\DoxyCodeLine{167 \textcolor{keyword}{private}:}
\DoxyCodeLine{168     \textcolor{keywordtype}{int} posRentre = 0;}
\DoxyCodeLine{169     \textcolor{keywordtype}{int} posSortie = 100;}
\DoxyCodeLine{170 }
\DoxyCodeLine{171     uint8\_t pinServo;}
\DoxyCodeLine{172     \mbox{\hyperlink{class_servo}{Servo}} servo;}
\DoxyCodeLine{173 \};}
\DoxyCodeLine{174 }
\DoxyCodeLine{180 \textcolor{keyword}{class }[[deprecated ("{}Deprecated in the 2022 edition"{})]] \mbox{\hyperlink{class_pince}{Pince}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_actuator}{Actuator}}}
\DoxyCodeLine{181 \{}
\DoxyCodeLine{182 \textcolor{keyword}{public}:}
\DoxyCodeLine{186     \mbox{\hyperlink{class_pince}{Pince}}();}
\DoxyCodeLine{187 }
\DoxyCodeLine{201     \textcolor{keywordtype}{void} Init(uint8\_t pinServo, uint8\_t pinDir, uint8\_t pinStep, uint8\_t pinSleep, uint8\_t pinM0, uint8\_t pinM1,}
\DoxyCodeLine{202               MessageID ID, \textcolor{keywordtype}{int} ferme = 70, \textcolor{keywordtype}{int} ouvert = 100, \textcolor{keywordtype}{int} actionStep = 400);}
\DoxyCodeLine{203 }
\DoxyCodeLine{204     Actuator\_State \mbox{\hyperlink{class_actuator_abcd50fd00e60c114afde31648403e780}{Update}}() \textcolor{keyword}{override};}
\DoxyCodeLine{205 \textcolor{keyword}{protected}:}
\DoxyCodeLine{206     \mbox{\hyperlink{class_servo}{Servo}} servo;}
\DoxyCodeLine{207     \mbox{\hyperlink{class_stepper_motor_j}{StepperMotorJ}}* stepperMotor;}
\DoxyCodeLine{208 }
\DoxyCodeLine{209     uint8\_t pinServo;}
\DoxyCodeLine{210     uint8\_t pinDir;}
\DoxyCodeLine{211     uint8\_t pinStep;}
\DoxyCodeLine{212     uint8\_t pinSleep;}
\DoxyCodeLine{213     uint8\_t pinM0;}
\DoxyCodeLine{214     uint8\_t pinM1;}
\DoxyCodeLine{215 }
\DoxyCodeLine{216     uint8\_t motorSteps = 200;}
\DoxyCodeLine{217     \textcolor{keywordtype}{long} actionStep =  400; \textcolor{comment}{//200 pince arr}}
\DoxyCodeLine{218     \textcolor{keywordtype}{int} posFermee = 70;}
\DoxyCodeLine{219     \textcolor{keywordtype}{int} posOuverte = 100;}
\DoxyCodeLine{220     \textcolor{keywordtype}{int} standardDelay = 2000;}
\DoxyCodeLine{221 \};}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{keyword}{class }\mbox{\hyperlink{class_pince_avant}{PinceAvant}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_pince}{Pince}}}
\DoxyCodeLine{224 \{}
\DoxyCodeLine{225 \textcolor{keyword}{public}:}
\DoxyCodeLine{226     Actuator\_State \mbox{\hyperlink{class_pince_avant_a29a479ea81391943af4a02f62fcdbbb2}{Update}}() \textcolor{keyword}{override};}
\DoxyCodeLine{227 \textcolor{keyword}{private}:}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     \textcolor{keywordtype}{long} miniStep = 40;}
\DoxyCodeLine{230     \textcolor{keywordtype}{int} posTresOuverte = 110;}
\DoxyCodeLine{231 \};}
\DoxyCodeLine{232 }
\DoxyCodeLine{233 \textcolor{keyword}{class }\mbox{\hyperlink{class_pince_arriere}{PinceArriere}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_pince}{Pince}}}
\DoxyCodeLine{234 \{}
\DoxyCodeLine{235 \textcolor{keyword}{public}:}
\DoxyCodeLine{236     Actuator\_State \mbox{\hyperlink{class_pince_arriere_ac7d442bef84237e9df70272365c593fa}{Update}}() \textcolor{keyword}{override};}
\DoxyCodeLine{237 \};}
\DoxyCodeLine{238 }
\DoxyCodeLine{239 }
\DoxyCodeLine{240 }
\DoxyCodeLine{241 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
