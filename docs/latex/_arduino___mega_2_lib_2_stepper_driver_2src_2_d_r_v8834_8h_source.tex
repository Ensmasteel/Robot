\hypertarget{_arduino___mega_2_lib_2_stepper_driver_2src_2_d_r_v8834_8h_source}{}\doxysection{DRV8834.\+h}
\label{_arduino___mega_2_lib_2_stepper_driver_2src_2_d_r_v8834_8h_source}\index{Ensmasteel\_Bot\_2020/Arduino\_Mega/Lib/StepperDriver/src/DRV8834.h@{Ensmasteel\_Bot\_2020/Arduino\_Mega/Lib/StepperDriver/src/DRV8834.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * DRV8834 -\/ LV Stepper Motor Driver Driver (A4988-\/compatible -\/ mostly)}}
\DoxyCodeLine{3 \textcolor{comment}{ * Indexer mode only.}}
\DoxyCodeLine{4 \textcolor{comment}{ *}}
\DoxyCodeLine{5 \textcolor{comment}{ * Copyright (C)2015 Laurentiu Badea}}
\DoxyCodeLine{6 \textcolor{comment}{ *}}
\DoxyCodeLine{7 \textcolor{comment}{ * This file may be redistributed under the terms of the MIT license.}}
\DoxyCodeLine{8 \textcolor{comment}{ * A copy of this license has been included with this distribution in the file LICENSE.}}
\DoxyCodeLine{9 \textcolor{comment}{ */}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef DRV8834\_H}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define DRV8834\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <Arduino.h>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}BasicStepperDriver.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{class }\mbox{\hyperlink{class_d_r_v8834}{DRV8834}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_basic_stepper_driver}{BasicStepperDriver}} \{}
\DoxyCodeLine{16 \textcolor{keyword}{protected}:}
\DoxyCodeLine{17     \textcolor{keywordtype}{short} m0\_pin = PIN\_UNCONNECTED;}
\DoxyCodeLine{18     \textcolor{keywordtype}{short} m1\_pin = PIN\_UNCONNECTED;}
\DoxyCodeLine{19     \textcolor{comment}{// tWH(STEP) pulse duration, STEP high, min value (1.9us)}}
\DoxyCodeLine{20     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} step\_high\_min = 2;}
\DoxyCodeLine{21     \textcolor{comment}{// tWL(STEP) pulse duration, STEP low, min value (1.9us)}}
\DoxyCodeLine{22     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} step\_low\_min = 2;}
\DoxyCodeLine{23     \textcolor{comment}{// tWAKE wakeup time, nSLEEP inactive to STEP (1000us)}}
\DoxyCodeLine{24     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} wakeup\_time = 1000;}
\DoxyCodeLine{25     \textcolor{comment}{// also 200ns between ENBL/DIR/Mx changes and STEP HIGH}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{comment}{// Get max microsteps supported by the device}}
\DoxyCodeLine{28     \textcolor{keywordtype}{short} getMaxMicrostep() \textcolor{keyword}{override};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keyword}{private}:}
\DoxyCodeLine{31     \textcolor{comment}{// microstep range (1, 16, 32 etc)}}
\DoxyCodeLine{32     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{short} MAX\_MICROSTEP = 32;}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{keyword}{public}:}
\DoxyCodeLine{35     \textcolor{comment}{/*}}
\DoxyCodeLine{36 \textcolor{comment}{     * Basic connection: only DIR, STEP are connected.}}
\DoxyCodeLine{37 \textcolor{comment}{     * Microstepping controls should be hardwired.}}
\DoxyCodeLine{38 \textcolor{comment}{     */}}
\DoxyCodeLine{39     \mbox{\hyperlink{class_d_r_v8834}{DRV8834}}(\textcolor{keywordtype}{short} steps, \textcolor{keywordtype}{short} dir\_pin, \textcolor{keywordtype}{short} step\_pin);}
\DoxyCodeLine{40     \mbox{\hyperlink{class_d_r_v8834}{DRV8834}}(\textcolor{keywordtype}{short} steps, \textcolor{keywordtype}{short} dir\_pin, \textcolor{keywordtype}{short} step\_pin, \textcolor{keywordtype}{short} enable\_pin);}
\DoxyCodeLine{41     \textcolor{comment}{/*}}
\DoxyCodeLine{42 \textcolor{comment}{     * Fully wired. All the necessary control pins for DRV8834 are connected.}}
\DoxyCodeLine{43 \textcolor{comment}{     */}}
\DoxyCodeLine{44     \mbox{\hyperlink{class_d_r_v8834}{DRV8834}}(\textcolor{keywordtype}{short} steps, \textcolor{keywordtype}{short} dir\_pin, \textcolor{keywordtype}{short} step\_pin, \textcolor{keywordtype}{short} m0\_pin, \textcolor{keywordtype}{short} m1\_pin);}
\DoxyCodeLine{45     \mbox{\hyperlink{class_d_r_v8834}{DRV8834}}(\textcolor{keywordtype}{short} steps, \textcolor{keywordtype}{short} dir\_pin, \textcolor{keywordtype}{short} step\_pin, \textcolor{keywordtype}{short} enable\_pin, \textcolor{keywordtype}{short} m0\_pin, \textcolor{keywordtype}{short} m1\_pin);}
\DoxyCodeLine{46     \textcolor{keywordtype}{short} setMicrostep(\textcolor{keywordtype}{short} microsteps) \textcolor{keyword}{override};}
\DoxyCodeLine{47 \};}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// DRV8834\_H}}

\end{DoxyCode}
